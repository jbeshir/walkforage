// Tool and Component Definitions for WalkForage
// Realistic tool hierarchy with tool-to-tool prerequisites

import { Tool, CraftedComponent, MaterialTier, ToolCategory } from '../types/tools';

// ===== COMPONENTS (17 total) =====

export const COMPONENTS: CraftedComponent[] = [
  // ===== HANDLES (5) =====
  {
    id: 'crude_handle',
    name: 'Crude Handle',
    category: 'handle',
    tier: 'primitive',
    description: 'A rough stick, barely shaped. Good enough for basic tools.',
    requiredTech: 'flint_knapping',
    requiredTools: [],
    materials: [{ resourceId: 'pine', quantity: 1 }],
    baseCraftTime: 30,
    requiredWorkstation: null,
    properties: { durabilityBonus: 0, efficiencyBonus: 0, qualityTier: 1 },
  },
  {
    id: 'shaped_handle',
    name: 'Shaped Handle',
    category: 'handle',
    tier: 'stone',
    description: 'A handle carved with stone tools. Fits the hand better.',
    requiredTech: 'stone_tools',
    requiredTools: [{ toolId: 'stone_knife', minTier: 'stone', consumesDurability: 5 }],
    materials: [{ resourceId: 'pine', quantity: 2 }],
    baseCraftTime: 120,
    requiredWorkstation: null,
    properties: { durabilityBonus: 5, efficiencyBonus: 0.1, qualityTier: 2 },
  },
  {
    id: 'hardwood_handle',
    name: 'Hardwood Handle',
    category: 'handle',
    tier: 'copper',
    description: 'Dense hardwood handle. Requires copper tools to shape.',
    requiredTech: 'hardwood_working',
    requiredTools: [
      { toolId: 'copper_knife', minTier: 'copper', consumesDurability: 5 },
      { toolId: 'copper_chisel', minTier: 'copper', consumesDurability: 3 },
    ],
    materials: [{ resourceId: 'oak', quantity: 2 }],
    baseCraftTime: 300,
    requiredWorkstation: 'carpentry_workshop',
    properties: { durabilityBonus: 15, efficiencyBonus: 0.2, qualityTier: 3 },
  },
  {
    id: 'precision_handle',
    name: 'Precision Handle',
    category: 'handle',
    tier: 'bronze',
    description: 'Expertly turned handle with ergonomic grip.',
    requiredTech: 'advanced_carpentry',
    requiredTools: [
      { toolId: 'bronze_chisel', minTier: 'bronze', consumesDurability: 5 },
      { toolId: 'bronze_rasp', minTier: 'bronze', consumesDurability: 3 },
    ],
    materials: [{ resourceId: 'ash', quantity: 3 }],
    baseCraftTime: 600,
    requiredWorkstation: 'carpentry_workshop',
    properties: { durabilityBonus: 25, efficiencyBonus: 0.35, qualityTier: 4 },
  },
  {
    id: 'reinforced_handle',
    name: 'Reinforced Handle',
    category: 'handle',
    tier: 'iron',
    description: 'Hardwood handle with iron ferrules. Maximum durability.',
    requiredTech: 'iron_tools',
    requiredTools: [{ toolId: 'iron_chisel', minTier: 'iron', consumesDurability: 3 }],
    materials: [
      { resourceId: 'hickory', quantity: 2 },
      { resourceId: 'iron_bar', quantity: 1 },
    ],
    baseCraftTime: 900,
    requiredWorkstation: 'smithy',
    properties: { durabilityBonus: 40, efficiencyBonus: 0.5, qualityTier: 5 },
  },

  // ===== BINDINGS (4) =====
  {
    id: 'fiber_binding',
    name: 'Fiber Binding',
    category: 'binding',
    tier: 'primitive',
    description: 'Plant fibers twisted into cordage.',
    requiredTech: 'flint_knapping',
    requiredTools: [],
    materials: [{ resourceId: 'plant_fiber', quantity: 5 }],
    baseCraftTime: 60,
    requiredWorkstation: null,
    properties: { durabilityBonus: 0, efficiencyBonus: 0, qualityTier: 1 },
  },
  {
    id: 'leather_binding',
    name: 'Leather Binding',
    category: 'binding',
    tier: 'stone',
    description: 'Leather strips for secure tool hafting.',
    requiredTech: 'stone_tools',
    requiredTools: [{ toolId: 'stone_knife', minTier: 'stone', consumesDurability: 2 }],
    materials: [{ resourceId: 'leather', quantity: 2 }],
    baseCraftTime: 120,
    requiredWorkstation: null,
    properties: { durabilityBonus: 10, efficiencyBonus: 0.05, qualityTier: 2 },
  },
  {
    id: 'copper_band',
    name: 'Copper Band',
    category: 'binding',
    tier: 'copper',
    description: 'Copper ring that prevents handle splitting.',
    requiredTech: 'copper_tools',
    requiredTools: [{ toolId: 'stone_hammer', minTier: 'stone', consumesDurability: 5 }],
    materials: [{ resourceId: 'copper_ingot', quantity: 1 }],
    baseCraftTime: 180,
    requiredWorkstation: 'smelter',
    properties: { durabilityBonus: 20, efficiencyBonus: 0.1, qualityTier: 3 },
  },
  {
    id: 'iron_ferrule',
    name: 'Iron Ferrule',
    category: 'binding',
    tier: 'iron',
    description: 'Forged iron collar that reinforces handle joints.',
    requiredTech: 'smithing',
    requiredTools: [
      { toolId: 'iron_hammer', minTier: 'iron', consumesDurability: 3 },
      { toolId: 'tongs', minTier: 'copper', consumesDurability: 1 },
    ],
    materials: [{ resourceId: 'iron_bar', quantity: 1 }],
    baseCraftTime: 300,
    requiredWorkstation: 'smithy',
    properties: { durabilityBonus: 35, efficiencyBonus: 0.15, qualityTier: 4 },
  },

  // ===== TOOL HEADS (5) =====
  {
    id: 'flint_blade',
    name: 'Flint Blade',
    category: 'head',
    tier: 'stone',
    description: 'Knapped flint with a sharp edge.',
    requiredTech: 'flint_knapping',
    requiredTools: [{ toolId: 'hammerstone', minTier: 'primitive', consumesDurability: 10 }],
    materials: [{ resourceId: 'flint', quantity: 2 }],
    baseCraftTime: 180,
    requiredWorkstation: null,
    properties: { durabilityBonus: 0, efficiencyBonus: 0, qualityTier: 2 },
  },
  {
    id: 'stone_axe_head',
    name: 'Stone Axe Head',
    category: 'head',
    tier: 'stone',
    description: 'Ground and polished stone axe head.',
    requiredTech: 'stone_tools',
    requiredTools: [
      { toolId: 'hammerstone', minTier: 'primitive', consumesDurability: 20 },
      { toolId: 'grinding_stone', minTier: 'primitive', consumesDurability: 15 },
    ],
    materials: [
      { resourceId: 'diorite', quantity: 2 },
      { resourceId: 'sandstone', quantity: 1 },
    ],
    baseCraftTime: 600,
    requiredWorkstation: null,
    properties: { durabilityBonus: 10, efficiencyBonus: 0.1, qualityTier: 2 },
  },
  {
    id: 'copper_axe_head',
    name: 'Copper Axe Head',
    category: 'head',
    tier: 'copper',
    description: 'Cast copper axe head. Resharpable.',
    requiredTech: 'copper_tools',
    requiredTools: [{ toolId: 'stone_hammer', minTier: 'stone', consumesDurability: 10 }],
    materials: [{ resourceId: 'copper_ingot', quantity: 3 }],
    baseCraftTime: 480,
    requiredWorkstation: 'smelter',
    properties: { durabilityBonus: 20, efficiencyBonus: 0.25, qualityTier: 3 },
  },
  {
    id: 'bronze_axe_head',
    name: 'Bronze Axe Head',
    category: 'head',
    tier: 'bronze',
    description: 'Hard bronze head that holds an edge better than copper.',
    requiredTech: 'bronze_tools',
    requiredTools: [
      { toolId: 'copper_hammer', minTier: 'copper', consumesDurability: 8 },
      { toolId: 'tongs', minTier: 'copper', consumesDurability: 2 },
    ],
    materials: [{ resourceId: 'bronze_ingot', quantity: 3 }],
    baseCraftTime: 600,
    requiredWorkstation: 'bronze_foundry',
    properties: { durabilityBonus: 35, efficiencyBonus: 0.4, qualityTier: 4 },
  },
  {
    id: 'iron_axe_head',
    name: 'Iron Axe Head',
    category: 'head',
    tier: 'iron',
    description: 'Forged iron axe head. Superior durability.',
    requiredTech: 'iron_tools',
    requiredTools: [
      { toolId: 'bronze_hammer', minTier: 'bronze', consumesDurability: 5 },
      { toolId: 'tongs', minTier: 'copper', consumesDurability: 2 },
      { toolId: 'anvil', minTier: 'bronze', consumesDurability: 1 },
    ],
    materials: [{ resourceId: 'iron_bar', quantity: 4 }],
    baseCraftTime: 900,
    requiredWorkstation: 'smithy',
    properties: { durabilityBonus: 50, efficiencyBonus: 0.6, qualityTier: 5 },
  },

  // ===== FIXTURES (1) =====
  {
    id: 'wooden_wedge',
    name: 'Wooden Wedge',
    category: 'fixture',
    tier: 'primitive',
    description: 'Small wedge to secure axe heads.',
    requiredTech: 'stone_tools',
    requiredTools: [{ toolId: 'stone_knife', minTier: 'stone', consumesDurability: 2 }],
    materials: [{ resourceId: 'oak', quantity: 1 }],
    baseCraftTime: 60,
    requiredWorkstation: null,
    properties: { durabilityBonus: 5, efficiencyBonus: 0, qualityTier: 1 },
  },

  // ===== CONTAINERS (2) =====
  {
    id: 'clay_crucible',
    name: 'Clay Crucible',
    category: 'container',
    tier: 'stone',
    description: 'Fired clay vessel for melting metal.',
    requiredTech: 'pottery',
    requiredTools: [],
    materials: [{ resourceId: 'clay', quantity: 5 }],
    baseCraftTime: 300,
    requiredWorkstation: 'pottery_kiln',
    properties: { durabilityBonus: 0, efficiencyBonus: 0, qualityTier: 2 },
  },
  {
    id: 'graphite_crucible',
    name: 'Graphite Crucible',
    category: 'container',
    tier: 'iron',
    description: 'High-temperature crucible for iron and steel.',
    requiredTech: 'iron_smelting',
    requiredTools: [],
    materials: [
      { resourceId: 'clay', quantity: 5 },
      { resourceId: 'charcoal', quantity: 3 },
    ],
    baseCraftTime: 600,
    requiredWorkstation: 'kiln',
    properties: { durabilityBonus: 0, efficiencyBonus: 0.2, qualityTier: 4 },
  },
];

// ===== TOOLS (35 total) =====

export const TOOLS: Tool[] = [
  // ========== STONE AGE - PRIMITIVE (2) ==========
  {
    id: 'hammerstone',
    name: 'Hammerstone',
    category: 'knapping',
    tier: 'primitive',
    era: 'stone',
    description: 'A hard, rounded stone for striking other stones. The first tool.',
    requiredTech: 'flint_knapping',
    requiredTools: [],
    requiredComponents: [],
    materials: [{ resourceId: 'diorite', quantity: 1 }],
    baseCraftTime: 10,
    requiredWorkstation: null,
    stats: {
      durability: 100,
      maxDurability: 100,
      efficiency: 1.0,
      gatheringBonus: 1.0,
      craftingBonus: 1.0,
      hardnessRating: 7,
      canRepair: false,
      repairMaterial: null,
      specialAbilities: ['knapping'],
    },
    enablesCrafting: ['flint_blade', 'stone_knife', 'stone_scraper', 'stone_axe_head'],
    enablesGathering: ['flint', 'chert', 'obsidian'],
    upgradesTo: null,
    upgradesFrom: null,
  },
  {
    id: 'grinding_stone',
    name: 'Grinding Stone',
    category: 'knapping',
    tier: 'primitive',
    era: 'stone',
    description: 'A flat sandstone for grinding and shaping stone tools.',
    requiredTech: 'flint_knapping',
    requiredTools: [],
    requiredComponents: [],
    materials: [{ resourceId: 'sandstone', quantity: 2 }],
    baseCraftTime: 30,
    requiredWorkstation: null,
    stats: {
      durability: 200,
      maxDurability: 200,
      efficiency: 1.0,
      gatheringBonus: 1.0,
      craftingBonus: 1.0,
      hardnessRating: 4,
      canRepair: false,
      repairMaterial: null,
      specialAbilities: ['grinding', 'polishing'],
    },
    enablesCrafting: ['stone_axe_head'],
    enablesGathering: [],
    upgradesTo: null,
    upgradesFrom: null,
  },

  // ========== STONE AGE - CUTTING (2) ==========
  {
    id: 'stone_knife',
    name: 'Stone Knife',
    category: 'general',
    tier: 'stone',
    era: 'stone',
    description: 'A hafted flint blade. Essential for many crafts.',
    requiredTech: 'flint_knapping',
    requiredTools: [{ toolId: 'hammerstone', minTier: 'primitive', consumesDurability: 10 }],
    requiredComponents: [
      { componentId: 'flint_blade', quantity: 1 },
      { componentId: 'crude_handle', quantity: 1 },
      { componentId: 'fiber_binding', quantity: 1 },
    ],
    materials: [],
    baseCraftTime: 180,
    requiredWorkstation: null,
    stats: {
      durability: 50,
      maxDurability: 50,
      efficiency: 1.0,
      gatheringBonus: 1.2,
      craftingBonus: 1.0,
      hardnessRating: 7,
      canRepair: true,
      repairMaterial: 'flint',
      specialAbilities: ['cutting', 'skinning'],
    },
    enablesCrafting: ['shaped_handle', 'leather_binding', 'wooden_wedge'],
    enablesGathering: ['plant_fiber', 'bark'],
    upgradesTo: 'copper_knife',
    upgradesFrom: null,
  },
  {
    id: 'stone_scraper',
    name: 'Stone Scraper',
    category: 'general',
    tier: 'stone',
    era: 'stone',
    description: 'A thick flake for scraping hides and wood.',
    requiredTech: 'flint_knapping',
    requiredTools: [{ toolId: 'hammerstone', minTier: 'primitive', consumesDurability: 8 }],
    requiredComponents: [{ componentId: 'flint_blade', quantity: 1 }],
    materials: [],
    baseCraftTime: 120,
    requiredWorkstation: null,
    stats: {
      durability: 80,
      maxDurability: 80,
      efficiency: 1.0,
      gatheringBonus: 1.0,
      craftingBonus: 1.2,
      hardnessRating: 7,
      canRepair: false,
      repairMaterial: null,
      specialAbilities: ['scraping', 'hide_working'],
    },
    enablesCrafting: ['leather'],
    enablesGathering: [],
    upgradesTo: null,
    upgradesFrom: null,
  },

  // ========== STONE AGE - WOODWORKING (2) ==========
  {
    id: 'stone_axe',
    name: 'Stone Axe',
    category: 'woodworking',
    tier: 'stone',
    era: 'stone',
    description: 'A polished stone axe for felling trees and splitting wood.',
    requiredTech: 'stone_tools',
    requiredTools: [
      { toolId: 'hammerstone', minTier: 'primitive', consumesDurability: 15 },
      { toolId: 'grinding_stone', minTier: 'primitive', consumesDurability: 20 },
    ],
    requiredComponents: [
      { componentId: 'stone_axe_head', quantity: 1 },
      { componentId: 'shaped_handle', quantity: 1 },
      { componentId: 'leather_binding', quantity: 1 },
      { componentId: 'wooden_wedge', quantity: 1 },
    ],
    materials: [],
    baseCraftTime: 600,
    requiredWorkstation: null,
    stats: {
      durability: 100,
      maxDurability: 100,
      efficiency: 1.0,
      gatheringBonus: 1.5,
      craftingBonus: 1.0,
      hardnessRating: 4,
      canRepair: true,
      repairMaterial: 'diorite',
      specialAbilities: ['felling', 'splitting'],
    },
    enablesCrafting: ['crude_handle', 'shaped_handle', 'wooden_bowl'],
    enablesGathering: ['pine', 'spruce', 'fir', 'cedar', 'birch'],
    upgradesTo: 'copper_axe',
    upgradesFrom: null,
  },
  {
    id: 'stone_adze',
    name: 'Stone Adze',
    category: 'woodworking',
    tier: 'stone',
    era: 'stone',
    description: 'A transverse axe for hollowing and shaping wood.',
    requiredTech: 'woodworking',
    requiredTools: [
      { toolId: 'hammerstone', minTier: 'primitive', consumesDurability: 15 },
      { toolId: 'grinding_stone', minTier: 'primitive', consumesDurability: 20 },
    ],
    requiredComponents: [
      { componentId: 'stone_axe_head', quantity: 1 },
      { componentId: 'shaped_handle', quantity: 1 },
      { componentId: 'fiber_binding', quantity: 2 },
    ],
    materials: [],
    baseCraftTime: 600,
    requiredWorkstation: null,
    stats: {
      durability: 80,
      maxDurability: 80,
      efficiency: 1.0,
      gatheringBonus: 1.0,
      craftingBonus: 1.3,
      hardnessRating: 4,
      canRepair: true,
      repairMaterial: 'diorite',
      specialAbilities: ['hollowing', 'shaping'],
    },
    enablesCrafting: ['dugout_canoe', 'wooden_bowl', 'wooden_trough'],
    enablesGathering: [],
    upgradesTo: 'copper_adze',
    upgradesFrom: null,
  },

  // ========== STONE AGE - HAMMER (1) ==========
  {
    id: 'stone_hammer',
    name: 'Stone Hammer',
    category: 'metalworking',
    tier: 'stone',
    era: 'stone',
    description: 'A hafted stone hammer for heavy striking.',
    requiredTech: 'stone_tools',
    requiredTools: [
      { toolId: 'hammerstone', minTier: 'primitive', consumesDurability: 10 },
      { toolId: 'stone_knife', minTier: 'stone', consumesDurability: 5 },
    ],
    requiredComponents: [
      { componentId: 'shaped_handle', quantity: 1 },
      { componentId: 'leather_binding', quantity: 1 },
    ],
    materials: [{ resourceId: 'granite', quantity: 2 }],
    baseCraftTime: 480,
    requiredWorkstation: null,
    stats: {
      durability: 150,
      maxDurability: 150,
      efficiency: 1.0,
      gatheringBonus: 1.2,
      craftingBonus: 1.0,
      hardnessRating: 7,
      canRepair: true,
      repairMaterial: 'granite',
      specialAbilities: ['heavy_striking', 'shaping_metal'],
    },
    enablesCrafting: ['copper_ingot', 'copper_band'],
    enablesGathering: ['granite', 'basalt', 'diorite'],
    upgradesTo: 'copper_hammer',
    upgradesFrom: null,
  },

  // ========== STONE AGE - FIRE (2) ==========
  // Hand drill - most primitive friction fire method
  {
    id: 'hand_drill',
    name: 'Hand Drill',
    category: 'fire',
    tier: 'primitive',
    era: 'stone',
    description:
      'A simple spindle and fireboard. Spin between your palms to create friction and ember.',
    requiredTech: 'fire_making',
    requiredTools: [{ toolId: 'stone_knife', minTier: 'stone', consumesDurability: 3 }],
    requiredComponents: [],
    materials: [
      { resourceId: 'willow', quantity: 1 },
      { resourceId: 'cedar', quantity: 1 },
    ],
    baseCraftTime: 120,
    requiredWorkstation: null,
    stats: {
      durability: 15,
      maxDurability: 15,
      efficiency: 0.6,
      gatheringBonus: 1.0,
      craftingBonus: 1.0,
      hardnessRating: 1,
      canRepair: true,
      repairMaterial: 'willow',
      specialAbilities: ['fire_starting'],
    },
    enablesCrafting: ['charcoal', 'fired_clay'],
    enablesGathering: [],
    upgradesTo: 'bow_drill',
    upgradesFrom: null,
  },
  // Bow drill - more reliable friction fire with mechanical advantage
  {
    id: 'bow_drill',
    name: 'Bow Drill',
    category: 'fire',
    tier: 'stone',
    era: 'stone',
    description:
      'A bow-driven spindle for reliable fire starting. The bow provides consistent rotation speed.',
    requiredTech: 'fire_making',
    requiredTools: [
      { toolId: 'stone_knife', minTier: 'stone', consumesDurability: 5 },
      { toolId: 'stone_axe', minTier: 'stone', consumesDurability: 3 },
    ],
    requiredComponents: [{ componentId: 'fiber_binding', quantity: 2 }],
    materials: [
      { resourceId: 'cedar', quantity: 2 },
      { resourceId: 'birch', quantity: 1 },
    ],
    baseCraftTime: 300,
    requiredWorkstation: null,
    stats: {
      durability: 40,
      maxDurability: 40,
      efficiency: 1.0,
      gatheringBonus: 1.0,
      craftingBonus: 1.0,
      hardnessRating: 1,
      canRepair: true,
      repairMaterial: 'cedar',
      specialAbilities: ['fire_starting'],
    },
    enablesCrafting: ['charcoal', 'fired_clay'],
    enablesGathering: [],
    upgradesTo: 'flint_and_steel',
    upgradesFrom: 'hand_drill',
  },

  // ========== COPPER AGE - KNIFE (1) ==========
  {
    id: 'copper_knife',
    name: 'Copper Knife',
    category: 'general',
    tier: 'copper',
    era: 'copper',
    description: 'A cast copper knife. Can be resharpened indefinitely.',
    requiredTech: 'copper_tools',
    requiredTools: [{ toolId: 'stone_hammer', minTier: 'stone', consumesDurability: 10 }],
    requiredComponents: [
      { componentId: 'shaped_handle', quantity: 1 },
      { componentId: 'copper_band', quantity: 1 },
    ],
    materials: [{ resourceId: 'copper_ingot', quantity: 2 }],
    baseCraftTime: 360,
    requiredWorkstation: 'smelter',
    stats: {
      durability: 100,
      maxDurability: 100,
      efficiency: 1.5,
      gatheringBonus: 1.3,
      craftingBonus: 1.3,
      hardnessRating: 5,
      canRepair: true,
      repairMaterial: 'copper_ingot',
      specialAbilities: ['cutting', 'carving', 'resharpening'],
    },
    enablesCrafting: ['hardwood_handle', 'leather_armor'],
    enablesGathering: ['plant_fiber', 'bark', 'reeds'],
    upgradesTo: 'bronze_knife',
    upgradesFrom: 'stone_knife',
  },

  // ========== COPPER AGE - WOODWORKING (3) ==========
  {
    id: 'copper_axe',
    name: 'Copper Axe',
    category: 'woodworking',
    tier: 'copper',
    era: 'copper',
    description: 'A copper-headed axe. Can fell hardwoods.',
    requiredTech: 'copper_tools',
    requiredTools: [{ toolId: 'stone_hammer', minTier: 'stone', consumesDurability: 15 }],
    requiredComponents: [
      { componentId: 'copper_axe_head', quantity: 1 },
      { componentId: 'hardwood_handle', quantity: 1 },
      { componentId: 'wooden_wedge', quantity: 1 },
      { componentId: 'copper_band', quantity: 1 },
    ],
    materials: [],
    baseCraftTime: 600,
    requiredWorkstation: 'smelter',
    stats: {
      durability: 200,
      maxDurability: 200,
      efficiency: 1.5,
      gatheringBonus: 2.0,
      craftingBonus: 1.2,
      hardnessRating: 6,
      canRepair: true,
      repairMaterial: 'copper_ingot',
      specialAbilities: ['felling', 'splitting', 'hardwood_work'],
    },
    enablesCrafting: ['hardwood_handle', 'oak_beam', 'ash_handle'],
    enablesGathering: ['oak', 'ash', 'beech', 'maple', 'elm'],
    upgradesTo: 'bronze_axe',
    upgradesFrom: 'stone_axe',
  },
  {
    id: 'copper_adze',
    name: 'Copper Adze',
    category: 'woodworking',
    tier: 'copper',
    era: 'copper',
    description: 'A copper adze for fine shaping work.',
    requiredTech: 'copper_tools',
    requiredTools: [{ toolId: 'stone_hammer', minTier: 'stone', consumesDurability: 12 }],
    requiredComponents: [
      { componentId: 'copper_axe_head', quantity: 1 },
      { componentId: 'hardwood_handle', quantity: 1 },
      { componentId: 'leather_binding', quantity: 1 },
    ],
    materials: [],
    baseCraftTime: 540,
    requiredWorkstation: 'smelter',
    stats: {
      durability: 180,
      maxDurability: 180,
      efficiency: 1.5,
      gatheringBonus: 1.0,
      craftingBonus: 1.5,
      hardnessRating: 6,
      canRepair: true,
      repairMaterial: 'copper_ingot',
      specialAbilities: ['hollowing', 'shaping', 'precision'],
    },
    enablesCrafting: ['planks', 'furniture'],
    enablesGathering: [],
    upgradesTo: 'bronze_adze',
    upgradesFrom: 'stone_adze',
  },
  {
    id: 'copper_chisel',
    name: 'Copper Chisel',
    category: 'woodworking',
    tier: 'copper',
    era: 'copper',
    description: 'A copper chisel for joinery and detail work.',
    requiredTech: 'copper_tools',
    requiredTools: [{ toolId: 'stone_hammer', minTier: 'stone', consumesDurability: 8 }],
    requiredComponents: [
      { componentId: 'shaped_handle', quantity: 1 },
      { componentId: 'copper_band', quantity: 1 },
    ],
    materials: [{ resourceId: 'copper_ingot', quantity: 1 }],
    baseCraftTime: 300,
    requiredWorkstation: 'smelter',
    stats: {
      durability: 120,
      maxDurability: 120,
      efficiency: 1.4,
      gatheringBonus: 1.0,
      craftingBonus: 1.5,
      hardnessRating: 5,
      canRepair: true,
      repairMaterial: 'copper_ingot',
      specialAbilities: ['mortising', 'carving', 'joinery'],
    },
    enablesCrafting: ['hardwood_handle', 'mortise_joint'],
    enablesGathering: [],
    upgradesTo: 'bronze_chisel',
    upgradesFrom: null,
  },

  // ========== COPPER AGE - METALWORKING (2) ==========
  {
    id: 'copper_hammer',
    name: 'Copper Hammer',
    category: 'metalworking',
    tier: 'copper',
    era: 'copper',
    description: 'A copper-faced hammer for shaping soft metals.',
    requiredTech: 'copper_tools',
    requiredTools: [{ toolId: 'stone_hammer', minTier: 'stone', consumesDurability: 15 }],
    requiredComponents: [
      { componentId: 'hardwood_handle', quantity: 1 },
      { componentId: 'copper_band', quantity: 1 },
    ],
    materials: [{ resourceId: 'copper_ingot', quantity: 3 }],
    baseCraftTime: 480,
    requiredWorkstation: 'smelter',
    stats: {
      durability: 250,
      maxDurability: 250,
      efficiency: 1.5,
      gatheringBonus: 1.3,
      craftingBonus: 1.5,
      hardnessRating: 5,
      canRepair: true,
      repairMaterial: 'copper_ingot',
      specialAbilities: ['metalworking', 'shaping', 'riveting'],
    },
    enablesCrafting: ['bronze_ingot', 'copper_tools', 'jewelry'],
    enablesGathering: ['malachite'],
    upgradesTo: 'bronze_hammer',
    upgradesFrom: 'stone_hammer',
  },
  {
    id: 'tongs',
    name: 'Copper Tongs',
    category: 'metalworking',
    tier: 'copper',
    era: 'copper',
    description: 'Essential for holding hot metal during forging.',
    requiredTech: 'copper_tools',
    requiredTools: [{ toolId: 'stone_hammer', minTier: 'stone', consumesDurability: 12 }],
    requiredComponents: [],
    materials: [
      { resourceId: 'copper_ingot', quantity: 4 },
      { resourceId: 'oak', quantity: 2 },
    ],
    baseCraftTime: 600,
    requiredWorkstation: 'smelter',
    stats: {
      durability: 300,
      maxDurability: 300,
      efficiency: 1.3,
      gatheringBonus: 1.0,
      craftingBonus: 1.5,
      hardnessRating: 5,
      canRepair: true,
      repairMaterial: 'copper_ingot',
      specialAbilities: ['hot_metal_handling'],
    },
    enablesCrafting: ['bronze_tools', 'iron_bloom'],
    enablesGathering: [],
    upgradesTo: 'iron_tongs',
    upgradesFrom: null,
  },

  // ========== COPPER AGE - MINING (1) ==========
  {
    id: 'copper_pickaxe',
    name: 'Copper Pickaxe',
    category: 'mining',
    tier: 'copper',
    era: 'copper',
    description: 'A copper pickaxe for mining soft ores.',
    requiredTech: 'soft_stone_quarrying',
    requiredTools: [{ toolId: 'stone_hammer', minTier: 'stone', consumesDurability: 15 }],
    requiredComponents: [
      { componentId: 'hardwood_handle', quantity: 1 },
      { componentId: 'copper_band', quantity: 1 },
    ],
    materials: [{ resourceId: 'copper_ingot', quantity: 4 }],
    baseCraftTime: 600,
    requiredWorkstation: 'smelter',
    stats: {
      durability: 200,
      maxDurability: 200,
      efficiency: 1.5,
      gatheringBonus: 2.0,
      craftingBonus: 1.0,
      hardnessRating: 5,
      canRepair: true,
      repairMaterial: 'copper_ingot',
      specialAbilities: ['mining', 'quarrying'],
    },
    enablesCrafting: [],
    enablesGathering: ['limestone', 'sandstone', 'malachite', 'cassiterite'],
    upgradesTo: 'bronze_pickaxe',
    upgradesFrom: null,
  },

  // ========== COPPER AGE - FIRE (1) ==========
  {
    id: 'copper_bellows',
    name: 'Copper Bellows',
    category: 'fire',
    tier: 'copper',
    era: 'copper',
    description: 'Leather bellows with copper nozzle. Increases furnace temperature.',
    requiredTech: 'simple_kiln',
    requiredTools: [
      { toolId: 'copper_knife', minTier: 'copper', consumesDurability: 8 },
      { toolId: 'copper_chisel', minTier: 'copper', consumesDurability: 5 },
    ],
    requiredComponents: [{ componentId: 'copper_band', quantity: 2 }],
    materials: [
      { resourceId: 'leather', quantity: 6 },
      { resourceId: 'oak', quantity: 4 },
      { resourceId: 'copper_ingot', quantity: 2 },
    ],
    baseCraftTime: 900,
    requiredWorkstation: 'carpentry_workshop',
    stats: {
      durability: 150,
      maxDurability: 150,
      efficiency: 1.5,
      gatheringBonus: 1.0,
      craftingBonus: 1.8,
      hardnessRating: 1,
      canRepair: true,
      repairMaterial: 'leather',
      specialAbilities: ['forced_air', 'temperature_boost'],
    },
    enablesCrafting: ['bronze_smelting', 'higher_temp_firing'],
    enablesGathering: [],
    upgradesTo: 'iron_bellows',
    upgradesFrom: null,
  },

  // ========== BRONZE AGE - KNIFE (1) ==========
  {
    id: 'bronze_knife',
    name: 'Bronze Knife',
    category: 'general',
    tier: 'bronze',
    era: 'bronze',
    description: 'A hard bronze knife that holds its edge excellently.',
    requiredTech: 'bronze_tools',
    requiredTools: [
      { toolId: 'copper_hammer', minTier: 'copper', consumesDurability: 8 },
      { toolId: 'tongs', minTier: 'copper', consumesDurability: 3 },
    ],
    requiredComponents: [
      { componentId: 'precision_handle', quantity: 1 },
      { componentId: 'copper_band', quantity: 1 },
    ],
    materials: [{ resourceId: 'bronze_ingot', quantity: 2 }],
    baseCraftTime: 420,
    requiredWorkstation: 'bronze_foundry',
    stats: {
      durability: 200,
      maxDurability: 200,
      efficiency: 1.8,
      gatheringBonus: 1.5,
      craftingBonus: 1.6,
      hardnessRating: 6,
      canRepair: true,
      repairMaterial: 'bronze_ingot',
      specialAbilities: ['cutting', 'carving', 'resharpening', 'precision_work'],
    },
    enablesCrafting: ['leather_armor', 'fine_crafts'],
    enablesGathering: ['plant_fiber', 'bark', 'reeds'],
    upgradesTo: 'iron_knife',
    upgradesFrom: 'copper_knife',
  },

  // ========== BRONZE AGE - WOODWORKING (5) ==========
  {
    id: 'bronze_adze',
    name: 'Bronze Adze',
    category: 'woodworking',
    tier: 'bronze',
    era: 'bronze',
    description: 'A curved bronze adze for hollowing and shaping wood.',
    requiredTech: 'bronze_tools',
    requiredTools: [
      { toolId: 'copper_hammer', minTier: 'copper', consumesDurability: 10 },
      { toolId: 'tongs', minTier: 'copper', consumesDurability: 5 },
    ],
    requiredComponents: [
      { componentId: 'bronze_axe_head', quantity: 1 },
      { componentId: 'precision_handle', quantity: 1 },
      { componentId: 'copper_band', quantity: 1 },
    ],
    materials: [],
    baseCraftTime: 720,
    requiredWorkstation: 'bronze_foundry',
    stats: {
      durability: 300,
      maxDurability: 300,
      efficiency: 1.8,
      gatheringBonus: 1.5,
      craftingBonus: 2.0,
      hardnessRating: 6,
      canRepair: true,
      repairMaterial: 'bronze_ingot',
      specialAbilities: ['hollowing', 'shaping', 'boat_building'],
    },
    enablesCrafting: ['dugout_canoe', 'wooden_bowls', 'troughs'],
    enablesGathering: [],
    upgradesTo: 'iron_adze',
    upgradesFrom: 'copper_adze',
  },
  {
    id: 'bronze_axe',
    name: 'Bronze Axe',
    category: 'woodworking',
    tier: 'bronze',
    era: 'bronze',
    description: 'Superior bronze axe that holds its edge far longer.',
    requiredTech: 'bronze_tools',
    requiredTools: [
      { toolId: 'copper_hammer', minTier: 'copper', consumesDurability: 12 },
      { toolId: 'tongs', minTier: 'copper', consumesDurability: 5 },
    ],
    requiredComponents: [
      { componentId: 'bronze_axe_head', quantity: 1 },
      { componentId: 'precision_handle', quantity: 1 },
      { componentId: 'copper_band', quantity: 1 },
      { componentId: 'wooden_wedge', quantity: 1 },
    ],
    materials: [],
    baseCraftTime: 900,
    requiredWorkstation: 'bronze_foundry',
    stats: {
      durability: 350,
      maxDurability: 350,
      efficiency: 2.0,
      gatheringBonus: 2.5,
      craftingBonus: 1.5,
      hardnessRating: 7,
      canRepair: true,
      repairMaterial: 'bronze_ingot',
      specialAbilities: ['felling', 'splitting', 'all_wood_work'],
    },
    enablesCrafting: ['precision_handle', 'ship_timbers', 'furniture'],
    enablesGathering: ['hickory', 'yew', 'teak'],
    upgradesTo: 'iron_axe',
    upgradesFrom: 'copper_axe',
  },
  {
    id: 'bronze_chisel',
    name: 'Bronze Chisel',
    category: 'woodworking',
    tier: 'bronze',
    era: 'bronze',
    description: 'A bronze chisel for precision joinery.',
    requiredTech: 'bronze_tools',
    requiredTools: [
      { toolId: 'copper_hammer', minTier: 'copper', consumesDurability: 8 },
      { toolId: 'tongs', minTier: 'copper', consumesDurability: 3 },
    ],
    requiredComponents: [
      { componentId: 'precision_handle', quantity: 1 },
      { componentId: 'copper_band', quantity: 1 },
    ],
    materials: [{ resourceId: 'bronze_ingot', quantity: 2 }],
    baseCraftTime: 480,
    requiredWorkstation: 'bronze_foundry',
    stats: {
      durability: 200,
      maxDurability: 200,
      efficiency: 1.8,
      gatheringBonus: 1.0,
      craftingBonus: 2.0,
      hardnessRating: 6,
      canRepair: true,
      repairMaterial: 'bronze_ingot',
      specialAbilities: ['mortising', 'carving', 'precision_joinery'],
    },
    enablesCrafting: ['precision_handle', 'mortise_joint', 'dovetail'],
    enablesGathering: [],
    upgradesTo: 'iron_chisel',
    upgradesFrom: 'copper_chisel',
  },
  {
    id: 'bronze_saw',
    name: 'Bronze Saw',
    category: 'woodworking',
    tier: 'bronze',
    era: 'bronze',
    description: 'A toothed bronze blade for cutting wood.',
    requiredTech: 'bronze_tools',
    requiredTools: [
      { toolId: 'copper_hammer', minTier: 'copper', consumesDurability: 10 },
      { toolId: 'tongs', minTier: 'copper', consumesDurability: 4 },
    ],
    requiredComponents: [{ componentId: 'precision_handle', quantity: 1 }],
    materials: [{ resourceId: 'bronze_ingot', quantity: 3 }],
    baseCraftTime: 720,
    requiredWorkstation: 'bronze_foundry',
    stats: {
      durability: 180,
      maxDurability: 180,
      efficiency: 2.0,
      gatheringBonus: 1.0,
      craftingBonus: 2.5,
      hardnessRating: 6,
      canRepair: true,
      repairMaterial: 'bronze_ingot',
      specialAbilities: ['sawing', 'plank_cutting', 'precision_cutting'],
    },
    enablesCrafting: ['planks', 'boards', 'veneer'],
    enablesGathering: [],
    upgradesTo: 'iron_saw',
    upgradesFrom: null,
  },
  {
    id: 'bronze_rasp',
    name: 'Bronze Rasp',
    category: 'woodworking',
    tier: 'bronze',
    era: 'bronze',
    description: 'A coarse file for shaping wood and soft materials.',
    requiredTech: 'bronze_tools',
    requiredTools: [{ toolId: 'copper_hammer', minTier: 'copper', consumesDurability: 8 }],
    requiredComponents: [{ componentId: 'shaped_handle', quantity: 1 }],
    materials: [{ resourceId: 'bronze_ingot', quantity: 2 }],
    baseCraftTime: 420,
    requiredWorkstation: 'bronze_foundry',
    stats: {
      durability: 150,
      maxDurability: 150,
      efficiency: 1.6,
      gatheringBonus: 1.0,
      craftingBonus: 1.8,
      hardnessRating: 5,
      canRepair: true,
      repairMaterial: 'bronze_ingot',
      specialAbilities: ['shaping', 'smoothing', 'rounding'],
    },
    enablesCrafting: ['precision_handle', 'curved_parts'],
    enablesGathering: [],
    upgradesTo: null,
    upgradesFrom: null,
  },

  // ========== BRONZE AGE - METALWORKING (2) ==========
  {
    id: 'bronze_hammer',
    name: 'Bronze Hammer',
    category: 'metalworking',
    tier: 'bronze',
    era: 'bronze',
    description: 'A heavy bronze hammer for serious metalwork.',
    requiredTech: 'bronze_tools',
    requiredTools: [
      { toolId: 'copper_hammer', minTier: 'copper', consumesDurability: 15 },
      { toolId: 'tongs', minTier: 'copper', consumesDurability: 5 },
    ],
    requiredComponents: [
      { componentId: 'precision_handle', quantity: 1 },
      { componentId: 'copper_band', quantity: 2 },
    ],
    materials: [{ resourceId: 'bronze_ingot', quantity: 4 }],
    baseCraftTime: 720,
    requiredWorkstation: 'bronze_foundry',
    stats: {
      durability: 400,
      maxDurability: 400,
      efficiency: 2.0,
      gatheringBonus: 1.5,
      craftingBonus: 2.0,
      hardnessRating: 6,
      canRepair: true,
      repairMaterial: 'bronze_ingot',
      specialAbilities: ['metalworking', 'heavy_forging', 'drawing'],
    },
    enablesCrafting: ['iron_bloom', 'bronze_advanced', 'armor'],
    enablesGathering: [],
    upgradesTo: 'iron_hammer',
    upgradesFrom: 'copper_hammer',
  },
  {
    id: 'anvil',
    name: 'Bronze Anvil',
    category: 'metalworking',
    tier: 'bronze',
    era: 'bronze',
    description: 'A solid bronze anvil. Essential for serious smithing.',
    requiredTech: 'bronze_tools',
    requiredTools: [
      { toolId: 'copper_hammer', minTier: 'copper', consumesDurability: 30 },
      { toolId: 'tongs', minTier: 'copper', consumesDurability: 10 },
    ],
    requiredComponents: [{ componentId: 'clay_crucible', quantity: 3 }],
    materials: [{ resourceId: 'bronze_ingot', quantity: 20 }],
    baseCraftTime: 3600,
    requiredWorkstation: 'bronze_foundry',
    stats: {
      durability: 2000,
      maxDurability: 2000,
      efficiency: 1.0,
      gatheringBonus: 1.0,
      craftingBonus: 2.0,
      hardnessRating: 6,
      canRepair: true,
      repairMaterial: 'bronze_ingot',
      specialAbilities: ['anvil_surface', 'enables_smithy'],
    },
    enablesCrafting: ['iron_tools', 'advanced_weapons', 'armor'],
    enablesGathering: [],
    upgradesTo: 'iron_anvil',
    upgradesFrom: null,
  },

  // ========== BRONZE AGE - MINING (1) ==========
  {
    id: 'bronze_pickaxe',
    name: 'Bronze Pickaxe',
    category: 'mining',
    tier: 'bronze',
    era: 'bronze',
    description: 'A bronze pickaxe for mining harder ores.',
    requiredTech: 'bronze_tools',
    requiredTools: [
      { toolId: 'copper_hammer', minTier: 'copper', consumesDurability: 12 },
      { toolId: 'tongs', minTier: 'copper', consumesDurability: 4 },
    ],
    requiredComponents: [
      { componentId: 'precision_handle', quantity: 1 },
      { componentId: 'copper_band', quantity: 1 },
    ],
    materials: [{ resourceId: 'bronze_ingot', quantity: 4 }],
    baseCraftTime: 720,
    requiredWorkstation: 'bronze_foundry',
    stats: {
      durability: 300,
      maxDurability: 300,
      efficiency: 2.0,
      gatheringBonus: 2.5,
      craftingBonus: 1.0,
      hardnessRating: 6,
      canRepair: true,
      repairMaterial: 'bronze_ingot',
      specialAbilities: ['mining', 'hard_rock_quarrying'],
    },
    enablesCrafting: [],
    enablesGathering: ['hematite', 'magnetite', 'granite', 'marble'],
    upgradesTo: 'iron_pickaxe',
    upgradesFrom: 'copper_pickaxe',
  },

  // ========== IRON AGE - FIRE (2) ==========
  // Flint and steel - reliable spark-based fire starting
  {
    id: 'flint_and_steel',
    name: 'Flint and Steel',
    category: 'fire',
    tier: 'iron',
    era: 'iron',
    description:
      'Strike a steel striker against flint to create sparks. Fast and reliable in any weather.',
    requiredTech: 'iron_tools',
    requiredTools: [{ toolId: 'iron_hammer', minTier: 'iron', consumesDurability: 5 }],
    requiredComponents: [],
    materials: [
      { resourceId: 'iron_bar', quantity: 1 },
      { resourceId: 'flint', quantity: 2 },
    ],
    baseCraftTime: 300,
    requiredWorkstation: 'smithy',
    stats: {
      durability: 200,
      maxDurability: 200,
      efficiency: 2.0,
      gatheringBonus: 1.0,
      craftingBonus: 1.0,
      hardnessRating: 1,
      canRepair: true,
      repairMaterial: 'iron_bar',
      specialAbilities: ['fire_starting', 'weather_resistant'],
    },
    enablesCrafting: ['charcoal', 'fired_clay'],
    enablesGathering: [],
    upgradesTo: null,
    upgradesFrom: 'bow_drill',
  },
  {
    id: 'iron_bellows',
    name: 'Double-Action Bellows',
    category: 'fire',
    tier: 'iron',
    era: 'iron',
    description: 'Advanced bellows with iron fittings. Continuous airflow.',
    requiredTech: 'bellows_technology',
    requiredTools: [
      { toolId: 'bronze_hammer', minTier: 'bronze', consumesDurability: 10 },
      { toolId: 'bronze_chisel', minTier: 'bronze', consumesDurability: 8 },
    ],
    requiredComponents: [{ componentId: 'iron_ferrule', quantity: 2 }],
    materials: [
      { resourceId: 'leather', quantity: 10 },
      { resourceId: 'oak', quantity: 6 },
      { resourceId: 'iron_bar', quantity: 3 },
    ],
    baseCraftTime: 1800,
    requiredWorkstation: 'smithy',
    stats: {
      durability: 300,
      maxDurability: 300,
      efficiency: 2.0,
      gatheringBonus: 1.0,
      craftingBonus: 2.5,
      hardnessRating: 1,
      canRepair: true,
      repairMaterial: 'leather',
      specialAbilities: ['continuous_air', 'high_temperature'],
    },
    enablesCrafting: ['steel_making', 'blast_furnace'],
    enablesGathering: [],
    upgradesTo: null,
    upgradesFrom: 'copper_bellows',
  },

  // ========== IRON AGE - METALWORKING (3) ==========
  {
    id: 'iron_tongs',
    name: 'Iron Tongs',
    category: 'metalworking',
    tier: 'iron',
    era: 'iron',
    description: 'Heavy iron tongs for handling iron and steel.',
    requiredTech: 'smithing',
    requiredTools: [
      { toolId: 'bronze_hammer', minTier: 'bronze', consumesDurability: 15 },
      { toolId: 'tongs', minTier: 'copper', consumesDurability: 10 },
      { toolId: 'anvil', minTier: 'bronze', consumesDurability: 5 },
    ],
    requiredComponents: [],
    materials: [{ resourceId: 'iron_bar', quantity: 4 }],
    baseCraftTime: 900,
    requiredWorkstation: 'smithy',
    stats: {
      durability: 500,
      maxDurability: 500,
      efficiency: 2.0,
      gatheringBonus: 1.0,
      craftingBonus: 2.0,
      hardnessRating: 8,
      canRepair: true,
      repairMaterial: 'iron_bar',
      specialAbilities: ['hot_iron_handling', 'steel_handling'],
    },
    enablesCrafting: ['steel_tools', 'iron_advanced'],
    enablesGathering: [],
    upgradesTo: null,
    upgradesFrom: 'tongs',
  },
  {
    id: 'iron_hammer',
    name: 'Iron Hammer',
    category: 'metalworking',
    tier: 'iron',
    era: 'iron',
    description: 'A forged iron hammer for working iron and steel.',
    requiredTech: 'iron_tools',
    requiredTools: [
      { toolId: 'bronze_hammer', minTier: 'bronze', consumesDurability: 20 },
      { toolId: 'iron_tongs', minTier: 'iron', consumesDurability: 5 },
      { toolId: 'anvil', minTier: 'bronze', consumesDurability: 3 },
    ],
    requiredComponents: [
      { componentId: 'reinforced_handle', quantity: 1 },
      { componentId: 'iron_ferrule', quantity: 1 },
    ],
    materials: [{ resourceId: 'iron_bar', quantity: 5 }],
    baseCraftTime: 1200,
    requiredWorkstation: 'smithy',
    stats: {
      durability: 600,
      maxDurability: 600,
      efficiency: 3.0,
      gatheringBonus: 2.0,
      craftingBonus: 3.0,
      hardnessRating: 8,
      canRepair: true,
      repairMaterial: 'iron_bar',
      specialAbilities: ['heavy_forging', 'iron_working', 'steel_working'],
    },
    enablesCrafting: ['steel_ingot', 'iron_advanced', 'weapons'],
    enablesGathering: [],
    upgradesTo: 'steel_hammer',
    upgradesFrom: 'bronze_hammer',
  },
  {
    id: 'iron_anvil',
    name: 'Iron Anvil',
    category: 'metalworking',
    tier: 'iron',
    era: 'iron',
    description: 'A proper iron anvil. Required for serious steel work.',
    requiredTech: 'smithing',
    requiredTools: [
      { toolId: 'iron_hammer', minTier: 'iron', consumesDurability: 50 },
      { toolId: 'iron_tongs', minTier: 'iron', consumesDurability: 20 },
      { toolId: 'anvil', minTier: 'bronze', consumesDurability: 10 },
    ],
    requiredComponents: [{ componentId: 'graphite_crucible', quantity: 2 }],
    materials: [{ resourceId: 'iron_bar', quantity: 40 }],
    baseCraftTime: 7200,
    requiredWorkstation: 'bloomery',
    stats: {
      durability: 5000,
      maxDurability: 5000,
      efficiency: 1.0,
      gatheringBonus: 1.0,
      craftingBonus: 3.0,
      hardnessRating: 8,
      canRepair: true,
      repairMaterial: 'iron_bar',
      specialAbilities: ['anvil_surface', 'steel_anvil'],
    },
    enablesCrafting: ['steel_tools', 'fine_weapons', 'plate_armor'],
    enablesGathering: [],
    upgradesTo: null,
    upgradesFrom: 'anvil',
  },

  // ========== IRON AGE - KNIFE (1) ==========
  {
    id: 'iron_knife',
    name: 'Iron Knife',
    category: 'general',
    tier: 'iron',
    era: 'iron',
    description: 'A forged iron knife. Superior edge retention and durability.',
    requiredTech: 'iron_tools',
    requiredTools: [
      { toolId: 'iron_hammer', minTier: 'iron', consumesDurability: 8 },
      { toolId: 'iron_tongs', minTier: 'iron', consumesDurability: 3 },
      { toolId: 'anvil', minTier: 'bronze', consumesDurability: 2 },
    ],
    requiredComponents: [
      { componentId: 'reinforced_handle', quantity: 1 },
      { componentId: 'iron_ferrule', quantity: 1 },
    ],
    materials: [{ resourceId: 'iron_bar', quantity: 2 }],
    baseCraftTime: 600,
    requiredWorkstation: 'smithy',
    stats: {
      durability: 350,
      maxDurability: 350,
      efficiency: 2.5,
      gatheringBonus: 2.0,
      craftingBonus: 2.2,
      hardnessRating: 7,
      canRepair: true,
      repairMaterial: 'iron_bar',
      specialAbilities: ['cutting', 'carving', 'resharpening', 'precision_work', 'butchering'],
    },
    enablesCrafting: ['leather_armor', 'fine_crafts', 'surgical_tools'],
    enablesGathering: ['plant_fiber', 'bark', 'reeds', 'meat'],
    upgradesTo: null,
    upgradesFrom: 'bronze_knife',
  },

  // ========== IRON AGE - WOODWORKING (4) ==========
  {
    id: 'iron_adze',
    name: 'Iron Adze',
    category: 'woodworking',
    tier: 'iron',
    era: 'iron',
    description: 'A forged iron adze for heavy-duty wood shaping.',
    requiredTech: 'iron_tools',
    requiredTools: [
      { toolId: 'iron_hammer', minTier: 'iron', consumesDurability: 12 },
      { toolId: 'iron_tongs', minTier: 'iron', consumesDurability: 5 },
      { toolId: 'anvil', minTier: 'bronze', consumesDurability: 3 },
    ],
    requiredComponents: [
      { componentId: 'iron_axe_head', quantity: 1 },
      { componentId: 'reinforced_handle', quantity: 1 },
      { componentId: 'iron_ferrule', quantity: 1 },
    ],
    materials: [],
    baseCraftTime: 900,
    requiredWorkstation: 'smithy',
    stats: {
      durability: 450,
      maxDurability: 450,
      efficiency: 2.5,
      gatheringBonus: 2.0,
      craftingBonus: 3.0,
      hardnessRating: 8,
      canRepair: true,
      repairMaterial: 'iron_bar',
      specialAbilities: ['hollowing', 'shaping', 'boat_building', 'beam_work'],
    },
    enablesCrafting: ['longship', 'large_beams', 'furniture'],
    enablesGathering: [],
    upgradesTo: null,
    upgradesFrom: 'bronze_adze',
  },
  {
    id: 'iron_axe',
    name: 'Iron Axe',
    category: 'woodworking',
    tier: 'iron',
    era: 'iron',
    description: 'A forged iron axe. Can fell any tree.',
    requiredTech: 'iron_tools',
    requiredTools: [
      { toolId: 'iron_hammer', minTier: 'iron', consumesDurability: 15 },
      { toolId: 'iron_tongs', minTier: 'iron', consumesDurability: 5 },
      { toolId: 'anvil', minTier: 'bronze', consumesDurability: 3 },
    ],
    requiredComponents: [
      { componentId: 'iron_axe_head', quantity: 1 },
      { componentId: 'reinforced_handle', quantity: 1 },
      { componentId: 'iron_ferrule', quantity: 1 },
    ],
    materials: [],
    baseCraftTime: 1200,
    requiredWorkstation: 'smithy',
    stats: {
      durability: 500,
      maxDurability: 500,
      efficiency: 3.0,
      gatheringBonus: 3.5,
      craftingBonus: 2.0,
      hardnessRating: 8,
      canRepair: true,
      repairMaterial: 'iron_bar',
      specialAbilities: ['felling', 'splitting', 'all_wood_work', 'tropical_hardwood'],
    },
    enablesCrafting: ['reinforced_handle', 'ship_timbers', 'siege_equipment'],
    enablesGathering: ['ebony', 'teak', 'mahogany'],
    upgradesTo: 'steel_axe',
    upgradesFrom: 'bronze_axe',
  },
  {
    id: 'iron_chisel',
    name: 'Iron Chisel',
    category: 'woodworking',
    tier: 'iron',
    era: 'iron',
    description: 'An iron chisel for the finest joinery.',
    requiredTech: 'iron_tools',
    requiredTools: [
      { toolId: 'iron_hammer', minTier: 'iron', consumesDurability: 8 },
      { toolId: 'iron_tongs', minTier: 'iron', consumesDurability: 3 },
    ],
    requiredComponents: [
      { componentId: 'reinforced_handle', quantity: 1 },
      { componentId: 'iron_ferrule', quantity: 1 },
    ],
    materials: [{ resourceId: 'iron_bar', quantity: 2 }],
    baseCraftTime: 600,
    requiredWorkstation: 'smithy',
    stats: {
      durability: 300,
      maxDurability: 300,
      efficiency: 2.5,
      gatheringBonus: 1.0,
      craftingBonus: 3.0,
      hardnessRating: 7,
      canRepair: true,
      repairMaterial: 'iron_bar',
      specialAbilities: ['mortising', 'carving', 'fine_joinery'],
    },
    enablesCrafting: ['fine_furniture', 'instruments', 'mechanisms'],
    enablesGathering: [],
    upgradesTo: null,
    upgradesFrom: 'bronze_chisel',
  },
  {
    id: 'iron_saw',
    name: 'Iron Saw',
    category: 'woodworking',
    tier: 'iron',
    era: 'iron',
    description: 'An iron saw with fine teeth for precision cutting.',
    requiredTech: 'iron_tools',
    requiredTools: [
      { toolId: 'iron_hammer', minTier: 'iron', consumesDurability: 10 },
      { toolId: 'iron_tongs', minTier: 'iron', consumesDurability: 4 },
    ],
    requiredComponents: [{ componentId: 'reinforced_handle', quantity: 1 }],
    materials: [{ resourceId: 'iron_bar', quantity: 4 }],
    baseCraftTime: 900,
    requiredWorkstation: 'smithy',
    stats: {
      durability: 250,
      maxDurability: 250,
      efficiency: 3.0,
      gatheringBonus: 1.0,
      craftingBonus: 3.5,
      hardnessRating: 7,
      canRepair: true,
      repairMaterial: 'iron_bar',
      specialAbilities: ['sawing', 'precision_cutting', 'veneer'],
    },
    enablesCrafting: ['thin_boards', 'veneer', 'fine_planks'],
    enablesGathering: [],
    upgradesTo: null,
    upgradesFrom: 'bronze_saw',
  },

  // ========== IRON AGE - MINING (1) ==========
  {
    id: 'iron_pickaxe',
    name: 'Iron Pickaxe',
    category: 'mining',
    tier: 'iron',
    era: 'iron',
    description: 'An iron pickaxe for mining any stone or ore.',
    requiredTech: 'iron_tools',
    requiredTools: [
      { toolId: 'iron_hammer', minTier: 'iron', consumesDurability: 15 },
      { toolId: 'iron_tongs', minTier: 'iron', consumesDurability: 5 },
      { toolId: 'anvil', minTier: 'bronze', consumesDurability: 3 },
    ],
    requiredComponents: [
      { componentId: 'reinforced_handle', quantity: 1 },
      { componentId: 'iron_ferrule', quantity: 1 },
    ],
    materials: [{ resourceId: 'iron_bar', quantity: 5 }],
    baseCraftTime: 1200,
    requiredWorkstation: 'smithy',
    stats: {
      durability: 450,
      maxDurability: 450,
      efficiency: 3.0,
      gatheringBonus: 3.5,
      craftingBonus: 1.0,
      hardnessRating: 8,
      canRepair: true,
      repairMaterial: 'iron_bar',
      specialAbilities: ['mining', 'hard_rock_quarrying', 'deep_mining'],
    },
    enablesCrafting: [],
    enablesGathering: ['basalt', 'quartzite', 'gneiss', 'all_ores'],
    upgradesTo: 'steel_pickaxe',
    upgradesFrom: 'bronze_pickaxe',
  },

  // ========== STEEL (3) ==========
  {
    id: 'steel_hammer',
    name: 'Steel Hammer',
    category: 'metalworking',
    tier: 'steel',
    era: 'iron',
    description: 'A hardened steel hammer. The ultimate smithing tool.',
    requiredTech: 'steel_tools',
    requiredTools: [
      { toolId: 'iron_hammer', minTier: 'iron', consumesDurability: 25 },
      { toolId: 'iron_tongs', minTier: 'iron', consumesDurability: 10 },
      { toolId: 'iron_anvil', minTier: 'iron', consumesDurability: 5 },
    ],
    requiredComponents: [
      { componentId: 'reinforced_handle', quantity: 1 },
      { componentId: 'iron_ferrule', quantity: 2 },
    ],
    materials: [{ resourceId: 'hardened_steel', quantity: 4 }],
    baseCraftTime: 1800,
    requiredWorkstation: 'steel_forge',
    stats: {
      durability: 1000,
      maxDurability: 1000,
      efficiency: 4.0,
      gatheringBonus: 2.5,
      craftingBonus: 4.0,
      hardnessRating: 10,
      canRepair: true,
      repairMaterial: 'hardened_steel',
      specialAbilities: ['master_forging', 'steel_working', 'damascus'],
    },
    enablesCrafting: ['steel_advanced', 'master_weapons', 'clockwork'],
    enablesGathering: [],
    upgradesTo: null,
    upgradesFrom: 'iron_hammer',
  },
  {
    id: 'steel_axe',
    name: 'Steel Axe',
    category: 'woodworking',
    tier: 'steel',
    era: 'iron',
    description: 'A hardened steel axe. Unmatched edge retention.',
    requiredTech: 'steel_tools',
    requiredTools: [
      { toolId: 'steel_hammer', minTier: 'steel', consumesDurability: 15 },
      { toolId: 'iron_tongs', minTier: 'iron', consumesDurability: 5 },
      { toolId: 'iron_anvil', minTier: 'iron', consumesDurability: 3 },
    ],
    requiredComponents: [
      { componentId: 'reinforced_handle', quantity: 1 },
      { componentId: 'iron_ferrule', quantity: 1 },
    ],
    materials: [{ resourceId: 'hardened_steel', quantity: 5 }],
    baseCraftTime: 1800,
    requiredWorkstation: 'steel_forge',
    stats: {
      durability: 800,
      maxDurability: 800,
      efficiency: 4.0,
      gatheringBonus: 4.5,
      craftingBonus: 3.0,
      hardnessRating: 10,
      canRepair: true,
      repairMaterial: 'hardened_steel',
      specialAbilities: ['felling', 'splitting', 'master_woodwork'],
    },
    enablesCrafting: ['master_furniture', 'precision_mechanisms'],
    enablesGathering: ['all_woods'],
    upgradesTo: null,
    upgradesFrom: 'iron_axe',
  },
  {
    id: 'steel_pickaxe',
    name: 'Steel Pickaxe',
    category: 'mining',
    tier: 'steel',
    era: 'iron',
    description: 'A hardened steel pickaxe. Can mine anything.',
    requiredTech: 'steel_tools',
    requiredTools: [
      { toolId: 'steel_hammer', minTier: 'steel', consumesDurability: 15 },
      { toolId: 'iron_tongs', minTier: 'iron', consumesDurability: 5 },
      { toolId: 'iron_anvil', minTier: 'iron', consumesDurability: 3 },
    ],
    requiredComponents: [
      { componentId: 'reinforced_handle', quantity: 1 },
      { componentId: 'iron_ferrule', quantity: 1 },
    ],
    materials: [{ resourceId: 'hardened_steel', quantity: 6 }],
    baseCraftTime: 1800,
    requiredWorkstation: 'steel_forge',
    stats: {
      durability: 700,
      maxDurability: 700,
      efficiency: 4.0,
      gatheringBonus: 4.5,
      craftingBonus: 1.0,
      hardnessRating: 10,
      canRepair: true,
      repairMaterial: 'hardened_steel',
      specialAbilities: ['master_mining', 'deep_extraction'],
    },
    enablesCrafting: [],
    enablesGathering: ['all_stones', 'all_ores', 'gems'],
    upgradesTo: null,
    upgradesFrom: 'iron_pickaxe',
  },
];

// ===== HELPER FUNCTIONS =====

export const TOOLS_BY_ID = Object.fromEntries(TOOLS.map((t) => [t.id, t])) as Record<string, Tool>;

export const COMPONENTS_BY_ID = Object.fromEntries(COMPONENTS.map((c) => [c.id, c])) as Record<
  string,
  CraftedComponent
>;

export function getToolById(toolId: string): Tool | undefined {
  return TOOLS_BY_ID[toolId];
}

export function getComponentById(componentId: string): CraftedComponent | undefined {
  return COMPONENTS_BY_ID[componentId];
}

export function getToolsByTier(tier: MaterialTier): Tool[] {
  return TOOLS.filter((t) => t.tier === tier);
}

export function getToolsByCategory(category: ToolCategory): Tool[] {
  return TOOLS.filter((t) => t.category === category);
}

export function getToolPrerequisites(toolId: string): string[] {
  const tool = TOOLS_BY_ID[toolId];
  if (!tool) return [];
  return tool.requiredTools.map((rt) => rt.toolId);
}

export function getToolChain(toolId: string): Tool[] {
  const chain: Tool[] = [];
  let current: Tool | undefined = TOOLS_BY_ID[toolId];

  while (current) {
    chain.unshift(current);
    current = current.upgradesFrom ? TOOLS_BY_ID[current.upgradesFrom] : undefined;
  }

  return chain;
}

export function getAllToolDependencies(toolId: string): string[] {
  const deps = new Set<string>();
  const queue = [toolId];

  while (queue.length > 0) {
    const current = queue.shift()!;
    const tool = TOOLS_BY_ID[current];
    if (!tool) continue;

    for (const req of tool.requiredTools) {
      if (!deps.has(req.toolId)) {
        deps.add(req.toolId);
        queue.push(req.toolId);
      }
    }
  }

  return Array.from(deps);
}
